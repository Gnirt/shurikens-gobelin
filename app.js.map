{"version":3,"sources":["node_modules/auto-reload-brunch/vendor/auto-reload.js","app/canvas.js","app/main.js","app/particle.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1EA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1DA;AAAA","file":"public/app.js","sourcesContent":["(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=\"stylesheet\"]'))\n        .filter(function(link){\n          return (link != null && link.href != null);\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n\n      // hack to force page repaint\n      var el = document.body;\n      var bodyDisplay = el.style.display || 'block';\n      el.style.display = 'none';\n      el.offsetHeight;\n      el.style.display = bodyDisplay;\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname;\n\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n","'use strict';\n\nvar el = document.createElement('canvas');\nvar context = el.getContext('2d');\n\nel.width = window.innerWidth;\nel.height = window.innerHeight;\n\ndocument.body.appendChild(el);\n\nmodule.exports = {\n\tel: el,\n\tcontext: context,\n\twidth: el.width,\n\theight: el.height\n}\n","'use strict';\nvar canvas \t\t= require('canvas');\nvar Particle  \t= require('particle');\n\nvar context \t= canvas.context;\nvar canvasW \t= canvas.width;\nvar canvasH \t= canvas.height;\nvar words \t\t= [\"Gobelins\", \"Ninja de l'image\"]\nvar particles \t= [];\nvar density \t= 15;\nvar end;\nvar audio = new Audio(\"sound2.mp3\");\nvar img = new Image();\nimg.src = 'Gobelins_School_of_the_Image_logo.svg';\n\nvar start = function() {\n    audio.play();\n  \tcontext.font = \"bold 170px Arial\";\n  \tcontext.fillText(words[0], ( canvasW / 2 ) - ( Math.round( context.measureText(words[0]).width/2 ) ), canvasH / 2);\n  \tcontext.fillText(words[1], ( canvasW / 2 ) - ( Math.round( context.measureText(words[1]).width/2 ) ), canvasH / 2 + 200);\n  \tsetupShurikens();\n    draw();\n}\n\nvar setupShurikens  = function() {\n    var imageData;\n    var pixel;\n    var width   \t= 0;\n    var i       \t= 0;\n    var slide   \t= false;\n  \timageData\t= context.getImageData( 0, 0, canvasW, canvasH ).data;\n\n    for (var height = 0; height < canvasH; height += density) {\n    \t++i;\n        slide   = ((i % 2) == 0);\n        width   = 0;\n\t    if (slide === true) {\n\t        width += 6;\n\t    }\n\t    for (width; width < canvasW; width += density) {\n\t        pixel = imageData[ ( ( width + ( height * canvasW )) * 4 ) - 1 ];               \n\t        if( pixel == 255 ) {\n\t            particles.push(new Particle(\n\t                width,\n\t                height\n\t                )\n\t            );\n\t        }\n\t    }\n    }\n}\n\nfunction draw() {\n    context.clearRect( 0, 0, canvasW, canvasH );\n   \tvar end = true;\n    for ( var i = 0, len = particles.length; i < len ; ++i ) {\n\t    if (particles[i].f < 1) {\n    \t\tparticles[i].update();\n    \t\tparticles[i].render(particles[i].x, particles[i].y);\n    \t\tend = false;\n    \t} else {\n    \t\tparticles[i].render(particles[i].x2, particles[i].y2);\n    \t}\n    }\n    if (!end)\n  \t\twindow.requestAnimationFrame(draw);\n    else\n      audio.pause();\n};\n\nimg.onload = function() {\n  context.drawImage(img, -330, 20, 1000, 500);\n  start();\n}\n","'use strict';\n\nvar canvas = require('canvas');\nvar context = canvas.context;\nvar j = -30;\nfunction Particle (x, y) {\n\tthis.x1 = j;\n\tj -= 100;\n\tthis.y1 = Math.round(Math.random() * canvas.height);\n\tthis.x2 = x;\n\tthis.y2 = y;\n\n    this.x = 0;\n    this.y = 0;\n    var dx = this.x2 - this.x1,\n        dy = this.y2 - this.y1;\n    \n    var dist = Math.abs(Math.sqrt(dx * dx + dy * dy));\n    this.speed = 25 / dist;\n\n \tthis.f = this.speed;\n\tthis.size = 30;\n\tthis.angle = 0;\n\tthis.finalAngle = Math.round(Math.random() * 20);\n}\n\nParticle.prototype.render = function (x, y) {\n    context.save();\n\n\tcontext.translate(x, y);\n    if (x === this.x2 && y === this.y2) {\n    \tcontext.rotate(this.finalAngle * Math.PI/180);\n\t\tcontext.drawImage(shurikenPersp, 0, 0, this.size, this.size);\n\t} else {\n    \tcontext.rotate(this.angle * Math.PI/180);\n\t\tcontext.drawImage(shuriken, 0, 0, this.size, this.size);\n\t}\n\n    context.restore();\n}\n\nParticle.prototype.update = function () {\n\tthis.f += this.speed;\n\tthis.angle += 10;\n    this.x = this.x1 + (this.x2 - this.x1) * this.f;\n    this.y = this.y1 + (this.y2 - this.y1) * this.f;\n}\nvar event = new CustomEvent('imageLoaded');\nvar shuriken = new Image();\nshuriken.onload = function () {\n\tcanvas.el.dispatchEvent(event);\n};\n\nvar shurikenPersp = new Image();\nshurikenPersp.src = 'shuriken-persp.png';\nshuriken.src = 'shuriken.png';\n\nmodule.exports = Particle;\n"]}